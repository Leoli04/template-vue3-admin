import{_ as i,u as _,r as g,a as b,k as E,n as V,w as t,e as r,o as h,d as l,f as x,t as y,A as v,x as P,E as k,i as C}from"./index-dtHZBTLx.js";import{E as I,a as q}from"./el-form-item-BY7osHy-.js";const B={__name:"ChangePsw",setup(F){const{t:e}=_(),n=g(),o=b({password:"",npassword:"",cfpassword:""}),m=E(()=>({password:{required:!0,min:4,message:e("form.passwordError"),trigger:"blur"},npassword:[{required:!0,min:4,message:e("form.passwordError"),trigger:"blur"}],cfpassword:[{required:!0,min:4,message:e("form.passwordError"),trigger:"blur"},{validator:(u,s,a)=>{s!==o.npassword?a(new Error(e("form.cfpasswordError"))):a()},trigger:"blur"}]}));function f(){n.value.validate(u=>{if(!u)return;const{password:s,npassword:a}=o;v({password:s,npassword:a}).then(()=>{P.success(e("tips.success")),n.value.resetFields()})})}return(u,s)=>{const a=k,p=q,c=C,w=I;return h(),V(w,{ref_key:"formRef",ref:n,model:r(o),rules:r(m),"label-width":"150px",class:"form"},{default:t(()=>[l(p,{label:r(e)("form.currPassword"),prop:"password"},{default:t(()=>[l(a,{modelValue:r(o).password,"onUpdate:modelValue":s[0]||(s[0]=d=>r(o).password=d),type:"password",placeholder:r(e)("form.currPassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:r(e)("form.npassword"),prop:"npassword"},{default:t(()=>[l(a,{modelValue:r(o).npassword,"onUpdate:modelValue":s[1]||(s[1]=d=>r(o).npassword=d),type:"password",placeholder:r(e)("form.npassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,{label:r(e)("form.cfpassword"),prop:"cfpassword"},{default:t(()=>[l(a,{modelValue:r(o).cfpassword,"onUpdate:modelValue":s[2]||(s[2]=d=>r(o).cfpassword=d),type:"password",placeholder:r(e)("form.cfpassword")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(p,null,{default:t(()=>[l(c,{type:"primary",class:"w100p",onClick:f},{default:t(()=>[x(y(r(e)("action.submit")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}},R=i(B,[["__scopeId","data-v-ef561f65"]]);export{R as default};
