import{a as V,r as K,k as E,o as P,c as W,b as k,d as l,w as t,e,f as u,t as p,ai as j,ah as L,F as O,E as z,i as G,aj as J}from"./index-eULJHsq-.js";import{u as M,E as Q}from"./use-table-handlers-D-vPMUBE.js";import{E as X}from"./el-radio-ayDhzHag.js";import{a as Y,E as Z}from"./el-form-item-1NvOx5oQ.js";import{l as $,r as ee,s as ae,u as le,a as te}from"./app-dept-DcIJjicz.js";const oe={class:"main-body"},ne={class:"toolbar"},ce={__name:"Dept",setup(de){const d=V({id:"",name:"",parentId:null}),i=V({name:""}),{t:a,tableRef:w,dialogVisible:c,isEdit:C,formLoading:re,formRef:B,doSearch:v,doAdd:D,doEdit:I,doRemove:T,doSubmit:R,doClose:f}=M(d),_=K([]),U=E(()=>[{prop:"id",label:a("thead.ID")},{prop:"name",label:a("thead.name")},{prop:"createdBy",label:a("thead.createdBy")},{prop:"createdTime",label:a("thead.createdTime"),minWidth:160},{prop:"lastUpdatedBy",label:a("thead.updatedBy")},{prop:"lastUpdatedTime",label:a("thead.updatedTime"),minWidth:160}]),x=E(()=>({name:[{required:!0,message:a("form.usernameHolder"),trigger:["change","blur"]}]}));function h(r){te(null).then(o=>{_.value=o.data})}function F(r){h(),D()}function S(r){h(),I()}function H(r,o){T(ee,r,o)}function b(){R({save:ae,update:le})}return(r,o)=>{const y=z,s=Y,m=G,g=Z,N=J,q=X,A=Q;return P(),W(O,null,[k("div",oe,[k("div",ne,[l(g,{inline:!0,model:e(i)},{default:t(()=>[l(s,null,{default:t(()=>[l(y,{modelValue:e(i).title,"onUpdate:modelValue":o[0]||(o[0]=n=>e(i).title=n),placeholder:e(a)("thead.title")},null,8,["modelValue","placeholder"])]),_:1}),l(s,null,{default:t(()=>[l(m,{icon:"search",type:"primary",onClick:e(v)},{default:t(()=>[u(p(e(a)("action.search")),1)]),_:1},8,["onClick"])]),_:1}),l(s,null,{default:t(()=>[l(m,{icon:"plus",type:"primary",onClick:F},{default:t(()=>[u(p(e(a)("action.add")),1)]),_:1})]),_:1})]),_:1},8,["model"])]),l(N,{"row-key":"id",ref_key:"tableRef",ref:w,"get-page":e($),filters:e(i),columns:e(U),showBatchDelete:!1,showPagination:!1,onHandleEdit:S,onHandleDelete:H},null,8,["get-page","filters","columns"])]),l(A,{title:e(C)?e(a)("action.edit"):e(a)("action.add"),width:"40%",draggable:"",modelValue:e(c),"onUpdate:modelValue":o[3]||(o[3]=n=>L(c)?c.value=n:null),"close-on-click-modal":!1,onClose:e(f)},{footer:t(()=>[l(m,{onClick:e(f)},{default:t(()=>[u(p(e(a)("action.cancel")),1)]),_:1},8,["onClick"]),l(m,{type:"primary",onClick:b},{default:t(()=>[u(p(e(a)("action.confirm")),1)]),_:1})]),default:t(()=>[l(g,{model:e(d),rules:e(x),ref_key:"formRef",ref:B,onKeyup:j(b,["enter"]),"label-width":"80px"},{default:t(()=>[l(s,{label:e(a)("thead.name"),prop:"name"},{default:t(()=>[l(y,{modelValue:e(d).name,"onUpdate:modelValue":o[1]||(o[1]=n=>e(d).name=n),placeholder:e(a)("thead.name")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(s,{label:e(a)("form.parent"),prop:"parentId"},{default:t(()=>[l(q,{modelValue:e(d).parentId,"onUpdate:modelValue":o[2]||(o[2]=n=>e(d).parentId=n),props:{label:"name",value:"id",checkStrictly:!0,emitPath:!1},options:e(_),clearable:"",filterable:"",class:"w100p"},null,8,["modelValue","options"])]),_:1},8,["label"])]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue","onClose"])],64)}}};export{ce as default};
