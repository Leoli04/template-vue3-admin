import{_ as v,u as V,r as f,a as k,c as E,b as c,d as o,w as l,e,o as y,t as _,f as I,g as B,h as R,l as N,E as U,i as q}from"./index-eULJHsq-.js";import{E as z,a as A}from"./el-form-item-1NvOx5oQ.js";const C={class:"page flex-center"},F={class:"sign-box"},H={class:"title"},L={__name:"index",setup(S){const g=B(),r=R(),{t:s}=V(),i=f(null),a=k({account:"",password:""}),x={account:[{required:!0,message:"请输入账号",trigger:"blur"},{pattern:/^[a-zA-Z][a-zA-Z0-9_-]{3,31}$/,message:"账号由英文字母开头的长度6-32位字母、_、和-组成",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:10,message:"长度在 5 到 10"}]},n=f(!1),b=()=>{i.value.validate(m=>{m&&(n.value=!0,N(a).then(t=>{r.commit("user/setToken",t.data.token),r.dispatch("user/refreshUserInfo"),r.commit("setRouteLoaded",!1),g.push("/")}).finally(()=>{n.value=!1}))})};return(m,t)=>{const p=U,d=A,h=q,w=z;return y(),E("div",C,[c("div",F,[o(w,{ref_key:"formRef",ref:i,model:e(a),rules:x,"label-width":"86px"},{default:l(()=>[c("h3",H,_(e(s)("login")),1),o(d,{label:e(s)("form.username"),prop:"account"},{default:l(()=>[o(p,{modelValue:e(a).account,"onUpdate:modelValue":t[0]||(t[0]=u=>e(a).account=u),placeholder:e(s)("form.usernameHolder"),"prefix-icon":"user"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(d,{label:e(s)("form.password"),prop:"password"},{default:l(()=>[o(p,{modelValue:e(a).password,"onUpdate:modelValue":t[1]||(t[1]=u=>e(a).password=u),type:"password",placeholder:e(s)("form.passwordHolder"),"prefix-icon":"lock"},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),o(d,{label:""},{default:l(()=>[c("div",null,[o(h,{type:"primary",calss:"w100p",loading:e(n),onClick:b},{default:l(()=>[I(_(e(s)("login")),1)]),_:1},8,["loading"])])]),_:1})]),_:1},8,["model"])])])}}},D=v(L,[["__scopeId","data-v-34761dd4"]]);export{D as default};
